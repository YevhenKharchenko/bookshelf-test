{"version":3,"file":"commonHelpers.js","sources":["../src/js/books-api.js","../src/js/main.js"],"sourcesContent":["import axios from 'axios';\n\nexport class BooksApi {\n  constructor() {\n    this.BASE_URL = 'https://books-backend.p.goit.global/books';\n    this.CATEGORY_LIST = '/category-list';\n    this.TOP_BOOKS = '/top-books';\n    this.CATEGORY = '/category?category=';\n  }\n\n  async getCategories() {\n    const url = this.BASE_URL + this.CATEGORY_LIST;\n\n    try {\n      const response = await axios.get(url);\n\n      return response.data;\n    } catch (error) {\n      console.log(error);\n      iziToast.error({\n        title: 'Error',\n        message: `Oops! Something went wrong. Please try again later or contact support if the issue persists. Error details: ${error.message}`,\n        position: 'topRight',\n      });\n    }\n  }\n\n  async getTopBooks() {\n    const url = this.BASE_URL + this.TOP_BOOKS;\n\n    try {\n      const response = await axios.get(url);\n\n      return response.data;\n    } catch (error) {\n      console.log(error);\n      iziToast.error({\n        title: 'Error',\n        message: `Oops! Something went wrong. Please try again later or contact support if the issue persists. Error details: ${error.message}`,\n        position: 'topRight',\n      });\n    }\n  }\n\n  async getCategory(category) {\n    const url = this.BASE_URL + this.CATEGORY + category;\n\n    try {\n      const response = await axios.get(url);\n\n      return response.data;\n    } catch (error) {\n      console.log(error);\n      iziToast.error({\n        title: 'Error',\n        message: `Oops! Something went wrong. Please try again later or contact support if the issue persists. Error details: ${error.message}`,\n        position: 'topRight',\n      });\n    }\n  }\n\n  async getBook(id) {\n    const url = this.BASE_URL + '/' + id;\n\n    try {\n      const response = await axios.get(url);\n\n      return response.data;\n    } catch (error) {\n      console.log(error);\n      iziToast.error({\n        title: 'Error',\n        message: `Oops! Something went wrong. Please try again later or contact support if the issue persists. Error details: ${error.message}`,\n        position: 'topRight',\n      });\n    }\n  }\n}\n","import * as basicLightbox from 'basiclightbox';\nimport 'basiclightbox/dist/basicLightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport Swiper from 'swiper';\nimport 'swiper/css';\n\nimport { BooksApi } from './books-api.js';\n\nconst booksApi = new BooksApi();\n\nconst funds = [\n  {\n    title: 'Save the Children',\n    url: 'https://www.savethechildren.net/what-we-do/emergencies/ukraine-crisis',\n    img: null,\n  },\n  {\n    title: 'Project HOPE',\n    url: 'https://www.projecthope.org/country/ukraine/',\n    img: null,\n  },\n  {\n    title: 'UNITED24',\n    url: 'https://u24.gov.ua/uk',\n    img: null,\n  },\n  {\n    title: 'International Medical Corps',\n    url: 'https://internationalmedicalcorps.org/country/ukraine/',\n    img: null,\n  },\n  {\n    title: 'Medicins Sans Frontieres',\n    url: 'https://www.msf.org/ukraine',\n    img: null,\n  },\n  {\n    title: 'RAZOM',\n    url: 'https://www.razomforukraine.org/',\n    img: null,\n  },\n  {\n    title: 'Action against hunger',\n    url: 'https://www.actionagainsthunger.org/location/europe/ukraine/',\n    img: null,\n  },\n  {\n    title: 'World vision',\n    url: 'https://www.wvi.org/emergencies/ukraine',\n    img: null,\n  },\n  {\n    title: 'Serhiy Prytula Charity Foundation',\n    url: 'https://prytulafoundation.org/en',\n    img: null,\n  },\n];\n\n// Створюємо три змінні для додавання до них розмітки, вони мають посилатися на 3 елемента <ul> в html\nconst categoriesList = document.querySelector('.categories-list');\nconst categoryItem = document.querySelector('.category');\nconst shoppingList = document.querySelector('.shopping-list');\nconst fundsList = document.querySelector('.funds-list');\n\n// Створюємо масив для збереження книг у localStorage\nconst localStorageItems = JSON.parse(localStorage.getItem('books')) || [];\n\nfunction renderFunds(arr) {\n  let num = 0;\n\n  const markup = arr\n    .map(({ title, url, img }) => {\n      num++;\n      return `\n  <div class=\"swiper-slide\">\n   ${num} <a href=\"${url}\" target=\"_blank\">${title}</a>\n  </div>`;\n    })\n    .join('');\n\n  fundsList.insertAdjacentHTML('beforeend', markup);\n}\n\nexport async function renderBooksList() {\n  try {\n    const categories = await booksApi.getCategories();\n    const markup = categories\n      .map(\n        ({ list_name }) =>\n          `<li class=\"category-link\"><a href=\"\">${list_name}</a></li>`\n      )\n      .join('');\n\n    categoriesList.insertAdjacentHTML('beforeend', markup);\n\n    const categoryLinks = document.querySelectorAll('.category-link');\n\n    categoryLinks.forEach(el => {\n      el.addEventListener('click', e => {\n        const activeCategory = document.querySelector('.category-link .active');\n\n        if (activeCategory) {\n          activeCategory.classList.remove('active');\n        }\n        e.target.classList.add('active');\n      });\n    });\n  } catch (error) {\n    console.log(error);\n    iziToast.error({\n      title: 'Error',\n      message: `Oops! Something went wrong. Please try again later or contact support if the issue persists. Error details: ${error.message}`,\n      position: 'topRight',\n    });\n  }\n}\n\nexport async function renderTopBooks() {\n  try {\n    const topBooks = await booksApi.getTopBooks();\n\n    topBooks.forEach(list => {\n      const listHeaderHTML = `<h2>${list.list_name}</h2>`;\n      const showCategoryBtnHTML = `<button class=\"category-btn\" data-category=\"${list.list_name}\" type=\"button\">See more</button>`;\n\n      const markup = list.books\n        .map(book => {\n          return `\n        <div class=\"book\" id=\"${book._id}\">\n          <img src=\"${book.book_image}\" alt=\"${book.title}\">\n          <h3>${book.title}</h3>\n          <p class=\"description\">${book.description}</p>\n          <p class=\"author\">Author: ${book.author}</p>\n          <p class=\"publisher\"=>Publisher: ${book.publisher}</p>\n          <a class=\"amazon-link\" href=\"${book.amazon_product_url}\" target=\"_blank\">Buy on Amazon</a>\n        </div>`;\n        })\n        .join('');\n\n      const listOfTopBooks = listHeaderHTML + showCategoryBtnHTML + markup;\n\n      categoryItem.insertAdjacentHTML('beforeend', listOfTopBooks);\n    });\n  } catch (error) {\n    console.log(error);\n    iziToast.error({\n      title: 'Error',\n      message: `Oops! Something went wrong. Please try again later or contact support if the issue persists. Error details: ${error.message}`,\n      position: 'topRight',\n    });\n  }\n}\n\nexport async function renderCategory(category) {\n  try {\n    const booksList = await booksApi.getCategory(category);\n\n    const categoriesArray = category.split(' ');\n    const categoriesLastWord = categoriesArray[categoriesArray.length - 1];\n    const categoriesFirstPart = categoriesArray\n      .slice(0, categoriesArray.length - 1)\n      .join(' ');\n\n    const categoryHeaderHTML = `<h2 class=\"category-header\">${categoriesFirstPart} <span class=\"last-word-color\">${categoriesLastWord}</span></h2>`;\n    const markup = booksList\n      .map(book => {\n        return `\n      <div class=\"book\" id=\"${book._id}\">\n        <img src=\"${book.book_image}\" alt=\"${book.title}\">\n        <h3>${book.title}</h3>\n        <p class=\"description\">${book.description}</p>\n        <p class=\"author\">Author: ${book.author}</p>\n        <p class=\"publisher\">Publisher: ${book.publisher}</p>\n        <a class=\"amazon-link\" href=\"${book.amazon_product_url}\" target=\"_blank\">Buy on Amazon</a>\n      </div>`;\n      })\n      .join('');\n\n    const listOfCategoryBooks = categoryHeaderHTML + markup;\n\n    categoryItem.insertAdjacentHTML('beforeend', listOfCategoryBooks);\n  } catch (error) {\n    console.log(error);\n    iziToast.error({\n      title: 'Error',\n      message: `Oops! Something went wrong. Please try again later or contact support if the issue persists. Error details: ${error.message}`,\n      position: 'topRight',\n    });\n  }\n}\n\nexport async function renderBook(id) {\n  try {\n    const book = await booksApi.getBook(id);\n\n    let buttonText = 'Add to shopping list';\n\n    if (localStorageItems.findIndex(el => el._id === book._id) > -1) {\n      buttonText = 'Remove from shopping list';\n    }\n\n    const markup = `\n  <li class=\"book\" id=\"${book._id}\">\n    <img src=\"${book.book_image}\" alt=\"${book.title}\">\n    <h3>${book.title}</h3>\n    <p class=\"description\">${book.description}</p>\n    <p class=\"author\">Author: ${book.author}</p>\n    <p class=\"publisher\">Publisher: ${book.publisher}</p>\n    <a class=\"amazon-link\" href=\"${book.amazon_product_url}\" target=\"_blank\">Buy on Amazon</a>\n    <button class=\"add-btn\" type=\"button\">${buttonText}</button>\n  </li>`;\n\n    categoryItem.insertAdjacentHTML('beforeend', markup);\n  } catch (error) {\n    console.log(error);\n    iziToast.error({\n      title: 'Error',\n      message: `Oops! Something went wrong. Please try again later or contact support if the issue persists. Error details: ${error.message}`,\n      position: 'topRight',\n    });\n  }\n}\n\nexport function onGalleryItemClick(e) {\n  e.preventDefault();\n  categoryItem.innerHTML = '';\n  const category = e.target.textContent;\n  renderCategory(category);\n}\n\nexport function onShowCategoryBtnClick(e) {\n  if (!e.target.classList.contains('category-btn')) return;\n  const category = e.target.dataset.category;\n  categoryItem.innerHTML = '';\n  renderCategory(category);\n}\n\nexport function openModal(e) {\n  if (e.target.nodeName !== 'IMG') return;\n  e.preventDefault();\n  e.stopPropagation();\n  const id = e.target.parentNode.id;\n  categoryItem.innerHTML = '';\n  renderBook(id);\n}\n\nexport function onAddAndRemoveToShoppingListOnModal(e) {\n  if (e.target.textContent === 'Add to shopping list') {\n    const id = e.target.parentNode.id;\n    if (localStorageItems.includes(id)) return;\n    e.target.textContent = 'Remove from shopping list';\n    localStorageItems.push(id);\n    localStorage.setItem('books', JSON.stringify(localStorageItems));\n\n    return;\n  }\n\n  if (e.target.textContent === 'Remove from shopping list') {\n    const id = e.target.parentNode.id;\n    const index = localStorageItems.indexOf(id);\n\n    if (index !== -1) {\n      localStorageItems.splice(index, 1);\n      localStorage.setItem('books', JSON.stringify(localStorageItems));\n      e.target.textContent = 'Add to shopping list';\n\n      return;\n    }\n  }\n}\n\nexport function renderShoppingList() {\n  try {\n    const arrayOfBooks = JSON.parse(localStorage.getItem('books'));\n    if (!arrayOfBooks) return;\n    arrayOfBooks.forEach(book => renderBookFromLocalStorage(book));\n  } catch (error) {\n    console.log(error);\n    iziToast.error({\n      title: 'Error',\n      message: `Oops! Something went wrong. Please try again later or contact support if the issue persists. Error details: ${error.message}`,\n      position: 'topRight',\n    });\n  }\n}\n\nexport async function renderBookFromLocalStorage(id) {\n  try {\n    const book = await booksApi.getBook(id);\n\n    const markup = `\n  <li id=\"${book._id}\">\n    <img src=\"${book.book_image}\" alt=\"${book.title}\">\n    <h3>${book.title}</h3>\n    <p>Author: ${book.author}</p>\n    <p>Publisher: ${book.publisher}</p>\n    <a href=\"${book.amazon_product_url}\" target=\"_blank\">Buy on Amazon</a>\n    <button type=\"button\">Remove from shopping list</button>\n  </li>`;\n\n    shoppingList.insertAdjacentHTML('beforeend', markup);\n  } catch (error) {\n    console.log(error);\n    iziToast.error({\n      title: 'Error',\n      message: `Oops! Something went wrong. Please try again later or contact support if the issue persists. Error details: ${error.message}`,\n      position: 'topRight',\n    });\n  }\n}\n\nexport function onRemoveFromShoppingList(e) {\n  if (e.target.nodeName !== 'BUTTON') return;\n  const element = e.target.parentNode;\n  const id = element.id;\n  const index = localStorageItems.indexOf(id);\n  localStorageItems.splice(index, 1);\n  localStorage.setItem('books', JSON.stringify(localStorageItems));\n  element.remove();\n}\n\n// Видалення елемента з Shopping List\nexport function onRemoveFromShoppingListAndLocalStorage(e) {\n  if (e.target.nodeName !== 'BUTTON') return;\n\n  const element = e.target.parentNode;\n  const id = element.id;\n  const index = localStorageItems.findIndex(item => item._id === id);\n\n  if (index !== -1) {\n    localStorageItems.splice(index, 1);\n    localStorage.setItem('books', JSON.stringify(localStorageItems));\n  }\n\n  element.remove();\n}\n\n// Додавання та видалення об'єкта книги до localStorage без реквеста на сервер\nexport async function onAddAndRemoveToLocalStorageOnModal(e) {\n  const bookElement = e.target.closest('.book');\n\n  if (!bookElement) return;\n\n  const id = bookElement.id;\n  const title = bookElement.querySelector('h3').textContent;\n  const description = bookElement.querySelector('.description').textContent;\n  const author = bookElement.querySelector('.author').textContent;\n  const publisher = bookElement.querySelector('.publisher').textContent;\n  const bookImage = bookElement.querySelector('img').src;\n  const amazonProductUrl = bookElement.querySelector('.amazon-link').href;\n  const modalText = bookElement.querySelector('.modal-text');\n\n  const book = {\n    _id: id,\n    title: title,\n    description: description,\n    author: author,\n    publisher: publisher,\n    book_image: bookImage,\n    amazon_product_url: amazonProductUrl,\n  };\n\n  if (e.target.textContent === 'Add to shopping list') {\n    modalText.style.display = 'block';\n\n    if (localStorageItems.find(item => item._id === id)) return;\n\n    e.target.textContent = 'Remove from shopping list';\n    localStorageItems.push(book);\n    localStorage.setItem('books', JSON.stringify(localStorageItems));\n  } else if (e.target.textContent === 'Remove from shopping list') {\n    modalText.style.display = 'none';\n    const index = localStorageItems.findIndex(item => item._id === id);\n\n    if (index !== -1) {\n      localStorageItems.splice(index, 1);\n      localStorage.setItem('books', JSON.stringify(localStorageItems));\n      e.target.textContent = 'Add to shopping list';\n    }\n  }\n}\n\n// Рендер Shopping list без реквеста на сервер\nexport function renderShoppingListFromLocalStorage() {\n  try {\n    const localStorageItems = JSON.parse(localStorage.getItem('books')) || [];\n    if (!localStorageItems) return;\n    localStorageItems.forEach(book =>\n      renderBookFromLocalStorageWithoutFetch(book)\n    );\n  } catch (error) {\n    console.log(error);\n    iziToast.error({\n      title: 'Error',\n      message: `Oops! Something went wrong. Please try again later or contact support if the issue persists. Error details: ${error.message}`,\n      position: 'topRight',\n    });\n  }\n}\n\n// Рендер книги без реквеста на сервер\nexport function renderBookFromLocalStorageWithoutFetch(book) {\n  const markup = `\n  <li id=\"${book._id}\">\n    <img src=\"${book.book_image}\" alt=\"${book.title}\">\n    <h3>${book.title}</h3>\n    <p>${book.description}</p>\n    <p>${book.author}</p>\n    <p>${book.publisher}</p>\n    <a href=\"${book.amazon_product_url}\" target=\"_blank\">Buy on Amazon</a>\n    <button type=\"button\">Remove from shopping list</button>\n  </li>`;\n\n  shoppingList.insertAdjacentHTML('beforeend', markup);\n}\n\nasync function openBasicModal(e) {\n  e.preventDefault();\n\n  if (e.target.nodeName !== 'IMG') {\n    return;\n  }\n\n  e.stopPropagation();\n  const id = e.target.parentNode.id;\n  try {\n    const book = await booksApi.getBook(id);\n\n    let buttonText = 'Add to shopping list';\n\n    if (localStorageItems.findIndex(el => el._id === book._id) > -1) {\n      buttonText = 'Remove from shopping list';\n    }\n\n    const markup = `\n  <div class=\"book\" id=\"${book._id}\">\n    <img src=\"${book.book_image}\" alt=\"${book.title}\">\n    <h3>${book.title}</h3>\n    <p class=\"description\">${book.description}</p>\n    <p class=\"author\">Author: ${book.author}</p>\n    <p class=\"publisher\">Publisher: ${book.publisher}</p>\n    <a class=\"amazon-link\" href=\"${book.amazon_product_url}\" target=\"_blank\">Buy on Amazon</a>\n    <button class=\"add-btn\" type=\"button\">${buttonText}</button>\n    <p class=\"modal-text\">Сongratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.</p>\n  </div>`;\n\n    const escapeKey = event => {\n      if (event.code === 'Escape') {\n        instance.close();\n      }\n    };\n\n    const instance = basicLightbox.create(markup, {\n      className: 'modal',\n      onShow: () => {\n        const modalText = instance.element().querySelector('.modal-text');\n\n        if (localStorageItems.find(item => item._id === id)) {\n          modalText.classList.add('visible');\n        }\n\n        document.addEventListener('keydown', escapeKey);\n        document.addEventListener('click', onAddAndRemoveToLocalStorageOnModal);\n      },\n      onClose: () => {\n        document.removeEventListener('keydown', escapeKey);\n      },\n    });\n\n    instance.show();\n  } catch (error) {\n    console.log(error);\n    iziToast.error({\n      title: 'Error',\n      message: `Oops! Something went wrong. Please try again later or contact support if the issue persists. Error details: ${error.message}`,\n      position: 'topRight',\n    });\n  }\n}\n\n// Додаємо слухачі подій для рендера окремої категорії, відкриття модалки, додавання та видалення до Shopping List\ncategoriesList.addEventListener('click', onGalleryItemClick);\ncategoryItem.addEventListener('click', onShowCategoryBtnClick);\n// categoryItem.addEventListener('click', onAddAndRemoveToLocalStorageOnModal);\n\ncategoryItem.addEventListener('click', openBasicModal);\n\n// Рендер списка категорій, топ-5 книг кожної категорії та Shopping List, де рендеряться об'єкти з localStorage\nrenderFunds(funds);\nrenderBooksList();\nrenderTopBooks();\n"],"names":["BooksApi","url","axios","error","category","id","booksApi","funds","categoriesList","categoryItem","fundsList","localStorageItems","renderFunds","arr","num","markup","title","img","renderBooksList","list_name","el","e","activeCategory","iziToast","renderTopBooks","list","listHeaderHTML","showCategoryBtnHTML","book","listOfTopBooks","renderCategory","booksList","categoriesArray","categoriesLastWord","categoryHeaderHTML","listOfCategoryBooks","onGalleryItemClick","onShowCategoryBtnClick","onAddAndRemoveToLocalStorageOnModal","bookElement","description","author","publisher","bookImage","amazonProductUrl","modalText","item","index","openBasicModal","buttonText","escapeKey","event","instance","basicLightbox.create"],"mappings":"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"}
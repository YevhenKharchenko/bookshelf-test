{"version":3,"file":"commonHelpers.js","sources":["../src/js/books-api.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nexport class BooksApi {\n  constructor() {\n    this.BASE_URL = 'https://books-backend.p.goit.global/books';\n    this.CATEGORY_LIST = '/category-list';\n    this.TOP_BOOKS = '/top-books';\n    this.CATEGORY = '/category?category=';\n  }\n\n  async getCategories() {\n    const url = this.BASE_URL + this.CATEGORY_LIST;\n    const response = await axios.get(url);\n\n    return response.data;\n  }\n\n  async getTopBooks() {\n    const url = this.BASE_URL + this.TOP_BOOKS;\n    const response = await axios.get(url);\n\n    return response.data;\n  }\n\n  async getCategory(category) {\n    const url = this.BASE_URL + this.CATEGORY + category;\n    const response = await axios.get(url);\n\n    return response.data;\n  }\n\n  async getBook(id) {\n    const url = this.BASE_URL + '/' + id;\n    const response = await axios.get(url);\n\n    return response.data;\n  }\n}\n","import { BooksApi } from './js/books-api';\n\nconst booksApi = new BooksApi();\n\n// const hardcoverFiction = await booksApi.getCategory('Hardcover Nonfiction');\n// const book = await booksApi.getBook('643282b1e85766588626a0c0');\nconst booksList = document.querySelector('.books-list');\nconst topBooksList = document.querySelector('.top-books-list');\n\nasync function renderBooksList() {\n  const categories = await booksApi.getCategories();\n  const markup = categories\n    .map(({ list_name }) => `<li>${list_name}</li>`)\n    .join('');\n\n  booksList.insertAdjacentHTML('beforeend', markup);\n}\n\nasync function renderTopBooks() {\n  const topBooks = await booksApi.getTopBooks();\n\n  topBooks.forEach(list => {\n    const listHeaderHTML = `<h2>${list.list_name}</h2>`;\n\n    const booksHTML = list.books\n      .map(book => {\n        return `\n        <div class=\"book\" id=\"${book._id}\">\n            <img src=\"${book.book_image}\" alt=\"${book.title}\">\n            <h3>${book.title}</h3>\n            <p>Author: ${book.author}</p>\n            <p>Publisher: ${book.publisher}</p>\n            <a href=\"${book.amazon_product_url}\" target=\"_blank\">Buy on Amazon</a>\n        </div>`;\n      })\n      .join('');\n\n    const listOfTopBooks = listHeaderHTML + booksHTML;\n    topBooksList.insertAdjacentHTML('beforeend', listOfTopBooks);\n  });\n}\n\nrenderBooksList();\nrenderTopBooks();\n"],"names":["BooksApi","url","axios","category","id","booksApi","booksList","topBooksList","renderBooksList","markup","list_name","renderTopBooks","list","listHeaderHTML","booksHTML","book","listOfTopBooks"],"mappings":"svBAEO,MAAMA,CAAS,CACpB,aAAc,CACZ,KAAK,SAAW,4CAChB,KAAK,cAAgB,iBACrB,KAAK,UAAY,aACjB,KAAK,SAAW,qBACjB,CAED,MAAM,eAAgB,CACpB,MAAMC,EAAM,KAAK,SAAW,KAAK,cAGjC,OAFiB,MAAMC,EAAM,IAAID,CAAG,GAEpB,IACjB,CAED,MAAM,aAAc,CAClB,MAAMA,EAAM,KAAK,SAAW,KAAK,UAGjC,OAFiB,MAAMC,EAAM,IAAID,CAAG,GAEpB,IACjB,CAED,MAAM,YAAYE,EAAU,CAC1B,MAAMF,EAAM,KAAK,SAAW,KAAK,SAAWE,EAG5C,OAFiB,MAAMD,EAAM,IAAID,CAAG,GAEpB,IACjB,CAED,MAAM,QAAQG,EAAI,CAChB,MAAMH,EAAM,KAAK,SAAW,IAAMG,EAGlC,OAFiB,MAAMF,EAAM,IAAID,CAAG,GAEpB,IACjB,CACH,CCnCA,MAAMI,EAAW,IAAIL,EAIfM,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAe,SAAS,cAAc,iBAAiB,EAE7D,eAAeC,GAAkB,CAE/B,MAAMC,GADa,MAAMJ,EAAS,iBAE/B,IAAI,CAAC,CAAE,UAAAK,CAAW,IAAK,OAAOA,CAAS,OAAO,EAC9C,KAAK,EAAE,EAEVJ,EAAU,mBAAmB,YAAaG,CAAM,CAClD,CAEA,eAAeE,GAAiB,EACb,MAAMN,EAAS,eAEvB,QAAQO,GAAQ,CACvB,MAAMC,EAAiB,OAAOD,EAAK,SAAS,QAEtCE,EAAYF,EAAK,MACpB,IAAIG,GACI;AAAA,gCACiBA,EAAK,GAAG;AAAA,wBAChBA,EAAK,UAAU,UAAUA,EAAK,KAAK;AAAA,kBACzCA,EAAK,KAAK;AAAA,yBACHA,EAAK,MAAM;AAAA,4BACRA,EAAK,SAAS;AAAA,uBACnBA,EAAK,kBAAkB;AAAA,eAEvC,EACA,KAAK,EAAE,EAEJC,EAAiBH,EAAiBC,EACxCP,EAAa,mBAAmB,YAAaS,CAAc,CAC/D,CAAG,CACH,CAEAR,IACAG,EAAgB"}